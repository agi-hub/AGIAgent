{
  "workspace_search": {
    "description": "Find snippets of code from the codebase most relevant to the search query. This is a semantic search tool, so the query should ask for something semantically matching what is needed.",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "The search query to find relevant code. You should reuse the user's exact query/most recent message with their wording unless there is a clear reason not to."
        },
        "target_directories": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Glob patterns for directories to search over"
        }
      },
      "required": ["query"]
    }
  },
  "read_multiple_files": {
    "description": "Read the contents of one or more files. Supports reading a single file or multiple files in one call. Use this tool whenever you need to read file contents.",
    "parameters": {
      "type": "object",
      "properties": {
        "target_files": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of file paths to read. Can be relative paths in the workspace or absolute paths. Maximum 20 files per call."
        },
        "should_read_entire_file": {
          "type": "boolean",
          "description": "Whether to read entire files. If true, reads up to 500 lines per file. If false, reads up to max_lines_per_file lines. Defaults to true."
        },
        "max_lines_per_file": {
          "type": "integer",
          "description": "Maximum lines to read per file when should_read_entire_file=false. Defaults to 200."
        }
      },
      "required": ["target_files"]
    }
  },
  "run_terminal_cmd": {
    "description": "PROPOSE a command to run on behalf of the user. For ANY commands that would use a pager or require user interaction, you should append ` | cat` to the command.",
    "parameters": {
      "type": "object",
      "properties": {
        "command": {
          "type": "string",
          "description": "The terminal command to execute"
        }
      },
      "required": ["command"]
    }
  },
  "grep_search": {
    "description": "Fast text-based regex search that finds exact pattern matches within files. **PERFORMANCE GUIDELINES**: For complex searches, use multiple simple queries instead of one complex query with many '|' operators. Limit queries to 3-5 terms maximum. Use exclude_pattern to skip common directories like 'output_*/*|__pycache__/*|*.egg-info/*|cache/*' for better performance.",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "The regex pattern to search for"
        },
        "case_sensitive": {
          "type": "boolean",
          "description": "Whether the search should be case sensitive"
        },
        "exclude_pattern": {
          "type": "string",
          "description": "Glob pattern for files to exclude"
        },
        "include_pattern": {
          "type": "string",
          "description": "Glob pattern for files to include (e.g. '*.ts' for TypeScript files)"
        }
      },
      "required": ["query"]
    }
  },
  "edit_file": {
    "description": "Use this tool to propose an edit to an existing file or create a new file. This will be read by a less intelligent model, which will quickly apply the edit.",
    "parameters": {
      "type": "object",
      "properties": {
        "target_file": {
          "type": "string",
          "description": "The target file to modify. You can use either a relative path in the workspace or an absolute path."
        },
        "edit_mode": {
          "type": "string",
          "description": "Editing mode: 'lines_replace' (precise replacement using exact code matching), 'append' (safest - append to the end of the file), 'full_replace' (completely replace file content).",
          "enum": ["lines_replace", "append", "full_replace"]
        },
        "old_code": {
          "type": "string",
          "description": "For 'lines_replace' mode: The exact code snippet to find and replace. Must match the existing code 100% precisely (including whitespace and indentation). Required for lines_replace mode, ignored for other modes."
        },
        "code_edit": {
          "type": "string",
          "description": "Edit content instructions:\n- lines_replace mode: Provide the new code to replace the old_code with.\n- append mode: Directly provide the content to append to the end of the file\n- full_replace mode: Provide the complete new file content, fully replacing the original file"
        }
      },
      "required": ["target_file", "edit_mode", "code_edit"]
    }
  },
  "web_search": {
    "description": "Search the web for real-time information about any topic. Use this tool when you need up-to-date information. The HTML and filtered txt files will be saved to the workspace/web_search_result directory.",
    "parameters": {
      "type": "object",
      "properties": {
        "search_term": {
          "type": "string",
          "description": "The search term to look up on the web. Be specific and include relevant keywords for better results. For technical queries, include version numbers or dates if relevant."
        }
      },
      "required": ["search_term"]
    }
  },
  "search_img": {
    "description": "Obtain relevant images based on the input query, save the images to local files, and return a JSON list of the image file paths. Uses a multi-search engine strategy: If Google is available, search in the order Google->Baidu->Bing; if Google is not available, search in the order Baidu->Bing.",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "Image search query string, describing the content of the images to find. Please use specific and clear descriptive terms, such as 'red rose flower', 'blue sky and white clouds landscape', etc."
        }
      },
      "required": ["query"]
    }
  },
  "fetch_webpage_content": {
    "description": "Fetch content from a webpage URL for analysis or information extraction.",
    "parameters": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string",
          "description": "The URL to fetch content from"
        },
        "search_term": {
          "type": "string",
          "description": "Optional search term to highlight in the content"
        }
      },
      "required": ["url"]
    }
  },
  "talk_to_user": {
    "description": "Display a question or message to the user and wait for keyboard input with timeout. This tool allows interactive communication with the user. In infinite loop mode, use timeout=-1 to disable timeout when notifying task completion.",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "The question or message to display to the user"
        },
        "timeout": {
          "type": "integer",
          "description": "Maximum time to wait for user response in seconds (default: 10 seconds, -1 to disable timeout)"
        }
      },
      "required": ["query"]
    }
  },
  "get_sensor_data": {
    "description": "Acquire physical world information including images, videos, audio, and sensor data from various sources such as cameras, microphones, or sensor devices.",
    "parameters": {
      "type": "object",
      "properties": {
        "type": {
          "type": "integer",
          "description": "Data type to acquire: 1=image, 2=video (5 seconds), 3=audio, 4=sensor data",
          "enum": [1, 2, 3, 4]
        },
        "source": {
          "type": "string",
          "description": "Source identifier: file path for existing files, or device number for cameras/microphones/sensors (e.g. '0' for camera 0)"
        },
        "para": {
          "type": "object",
          "description": "Parameters in JSON format. For images/cameras: {\"resolution\": \"640x320\"}. For videos: {\"resolution\": \"640x320\", \"duration\": 5}. For audio: {\"sampling_rate\": 16000, \"duration\": 5}. For sensors: varies by sensor type.",
          "properties": {
            "resolution": {
              "type": "string",
              "description": "Resolution for image/video capture (e.g., '640x320', '1920x1080')"
            },
            "duration": {
              "type": "integer",
              "description": "Duration in seconds for video/audio capture"
            },
            "sampling_rate": {
              "type": "integer",
              "description": "Sampling rate for audio capture (default: 16000 Hz)"
            }
          }
        }
      },
      "required": ["type", "source"]
    }
  },
  "read_img": {
    "description": "Read and analyze an image using the configured vision model, returning a text description of the image content. This tool uses the vision_model configuration to analyze images and returns text instead of base64-encoded image data. Use this tool when you need to understand what's in an image, extract text from images, or analyze visual content.",
    "parameters": {
      "type": "object",
      "properties": {
        "query": {
          "type": "string",
          "description": "Query or instruction for what to analyze in the image. For example: 'What text is in this image?', 'Describe what you see in this image', 'What objects are visible?', 'Extract all text content', etc."
        },
        "image_path": {
          "type": "string",
          "description": "Path to the image file. Supports absolute paths, paths relative to workspace root, or paths relative to current directory. Common formats: jpg, jpeg, png, gif, webp"
        }
      },
      "required": ["query", "image_path"]
    }
  },
  "merge_file": {
    "description": "Merge multiple files into a single output file using the system cat command. If the output file is a Markdown file (.md), it will automatically be converted to Word and PDF formats.",
    "parameters": {
      "type": "object",
      "properties": {
        "file_list": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of files to merge, e.g., ['file1.txt', 'file2.txt', 'file3.md']. Files will be merged in the order specified."
        },
        "output_file": {
          "type": "string",
          "description": "Name of the merged output file, e.g., 'combined_report.md'."
        }
      },
      "required": ["file_list", "output_file"]
    }
  },
  "convert_docs_to_markdown": {
    "description": "Convert various document formats to Markdown. Output files will have the same filename but substituted by a .md extension. Images are automatically extracted and saved to a doc_images folder.",
    "parameters": {
      "type": "object",
      "properties": {
        "file_path": {
          "type": "string",
          "description": "Path to the document file to convert to Markdown. Supported formats: .docx, .xlsx, .html, .tex, .rst, .pptx, .pdf"
        }
      },
      "required": ["file_path"]
    }
  },
  "compress_history": {
    "description": "Compress conversation history using AI summarization to reduce context length. This tool performs the same compression logic as the automatic compression triggered when summary_history=True and history exceeds summary_trigger_length, but allows the model to actively request compression when needed. Older conversation rounds are summarized into a concise summary, while recent rounds are kept uncompressed for detailed context.",
    "parameters": {
      "type": "object",
      "properties": {
        "keep_recent_rounds": {
          "type": "integer",
          "description": "Number of recent conversation rounds to keep uncompressed (default: 2). Older rounds will be compressed into a summary.",
          "default": 2
        }
      },
      "required": []
    }
  },
  "custom_command": {
    "description": "Execute custom commands through a general command execution tool. Select the tool type: 'game' for the 12x12 board game, or any other value (or omit) for echo tool that simply returns the input string.",
    "parameters": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "Tool type selector: 'game' for the board game tool, or any other value (or omit) for echo tool that returns the input string as output.",
          "enum": ["game"]
        },
        "command": {
          "type": "string",
          "description": "Command string to execute. "
        },
        "arg": {
          "type": "string",
          "description": "Optional argument string for the command."
        }
      },
      "required": ["command"]
    }
  },
  "create_img": {
    "description": "Generate an image from a text prompt using AI image generation models and save it as a PNG file. The tool uses the configured image generation API (image_generation_api_key, image_generation_api_base, image_generation_model) from config/config.txt. Supports both Zhipu AI and OpenRouter APIs.",
    "parameters": {
      "type": "object",
      "properties": {
        "prompt": {
          "type": "string",
          "description": "Text prompt describing the image to generate. Be specific and detailed for better results."
        },
        "resolution": {
          "type": "string",
          "description": "Image resolution in format 'WIDTHxHEIGHT' (e.g., '1280x1280', '1024x768', '1920x1080'). Default: '1280x1280'.",
          "default": "1280x1280"
        },
        "file_path": {
          "type": "string",
          "description": "Path where the image should be saved (PNG format). Supports relative paths (relative to workspace root) or absolute paths. If not provided, a filename will be generated based on the prompt. The file extension will be automatically set to .png if not already present."
        }
      },
      "required": ["prompt"]
    }
  }
} 