人脑具有很强的学习能力，能够随着时间增长业务经验。
学习主要依靠的是对所做事情的深度的整理，分隐性的和显性的。
隐性指的是，人具有互补记忆系统，可以在睡眠时对白天的工作进行短期-长期记忆的转换
显性指的是，人可以对所作所为进行自我反省，总结经验
此外，人是社会动物，人的经验来源于大量他人经验的传承和教育

因此我们构建一个能够持续进化的业务经验累积的智能体系统，具有如下特性：
1.在用户要求做任务的时候，专心做任务
2.当空闲的时候，进入任务整理模式
(1)将各个任务的工作历史（AGIAgent的manager.out)进行深度反思：
(2)总结自己是否成功完成了任务，用户是否会满意（如果有反馈信号则使用反馈）
(3)如果用户强制中断了任务的执行，并补充了新的信息，再继续运行，那么需要分析为什么原来做的没有满足用户要求，并对用户的偏好进行记录。
(4)对自己失败后，通过迭代最后成功了的地方进行总结
(5)对最后成功的代码进行备份
(6)对可能最短的成功路径进行总结
(7)对与用户不对齐的原因，用户偏好进行总结。
(8)将这些总结存储到数据库（RAG中）
(9)迭代各个最近更新的任务
(10)当具有多智能体时，对各个智能体的记录、消息传输过程也要进行总结（agent_XXX.out）
(11)最后总结成一对一对的skill：skill标题（含概述），skill使用条件，skill详细内容（经验文字，成功被使用的代码等），用户偏好情况，skill质量指数（使用这个skill后用户的反馈以及成功解决问题的次数），skill_fetch过的总次数，相关代码脚本，对应的任务工作目录

3.当夜晚或者长期空闲期间，进入skill整理模式
(1)比较新进来的skill和所有的skill的重合度，如果与某些skill重合度较高，可以将两个skill合并成一个（通过对文字进行整合），从而实现技能的整合，整合后，更新skill质量指数。
(2)对长期不使用的skill进行合并或者删除，或者降低质量指数。
(3)由于每个skill都是每个任务的产出，而任务之间往往可以相互借鉴，因此可以对相似skill进行跨skill整合，形成更高级的新skill（多任务综合出来的skill）。

4.当运行新的任务的时候，如果打开了skill记忆开关，则大模型先通过query_skill(query)查询，寻找最合适的skill，并将其作为当前任务的执行依据执行
(1)执行query_skill之后，会将query与skill库的各个skill标题进行相似度检索，寻找到最相似的TOP3 skills，返回给大模型（skill_ID, skill标题概述，skill使用条件）
(2)大模型可以执行fetch_skill(skill_ID)，用于获取详细的skill内容，代码（文件名）等详细信息。
(3)大模型可以依据这些内容，进行当前新任务的执行
(4)任务执行结束时，如果使用了skill，大模型需要对使用过的skill进行评价，用于更新skill质量指数。

如何评价：
1.任务相互借鉴型
弄一个小一些的数据集，让大模型执行一遍任务，之后进入任务整理模式，进行skill生成，之后进入skill整理模式实现跨任务skill整合。之后再带着skill记忆使能，重新运行这个数据集，应该能看到分数的提升（自监督，主要依靠跨任务skill整合带来提升）。

2.外反馈纠正型
找一个数据集，找一个普通的大模型，先直接运行数据集（逐个任务执行），然后用一个更先进的大模型对其进行指导修正，之后进入任务整理模式，进行skill生成，之后进入skill整理模式实现跨任务skill整合。之后再带着skill记忆使能，让普通的大模型再重跑这个数据集（没有大模型的指导修正），应该能看到分数的提升（高级模型监督得到的反馈经验）

3.自学积累型
找一个类似于摸索型的任务，例如汉诺塔，先让他做3个盘子的练习，成功了之后，总结经验，然后做4个盘子的练习，再成功后总结经验（成功路径），之后做更多盘子的，最后做到7个盘子。看最后7个盘子的操作轮数。作为对比，让同样的大模型不总结，直接运行5到7个盘子，看操作轮数，对比上述两者的任务成功率及操作轮数区别。

4.多智能体相互总结型
找一个可以用于多智能体探索的任务，例如用密码开锁但密码需要破译，让智能体各自摸索一段时间，之后进行经验总结，这个总结包括了各个智能体的经验。之后总结的skill共享给所有智能体，再让各个智能体运行，看看成功率。

与其他系统的区别和练习：
1.类似于TTS（测试时缩放）
2.类似于增强学习，不过调的不是权重，而是context（skill作为输入），也加入了RAG，相当于做了有限记忆提取，不会让context溢出
3.类似于一个动态RAG
4.类似于多智能体协同，但是多一步经验的固化与共享
5.实现了技能的长期记忆（知识、经验），而不是只有情景记忆
6.和普通的反思的区别：普通反思只对当前任务有效，本思路做了跨任务、长期的、结构化的反思并组建了技能仓库，完善了skill的记忆、遗忘、更新



